webpackJsonp([1],{"6UM6":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"main",data:function(){return{fans:{},discount:{},experience:[],score:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.$axios.post("/api/admin/report").then(function(e){t.fans=e.data.fans,t.discount=e.data.discount,t.experience=e.data.experience,t.score=e.data.score,t.$nextTick(function(){t.drawPie(t.$refs.fans,"fans"),t.drawPie(t.$refs.discount,"discount"),t.drawChart(t.$refs.experience,"经验排行榜","experience"),t.drawChart(t.$refs.score,"积分排行榜","score")})}).catch(function(t){console.log(t)})},drawPie:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fans",a=[];"fans"==e?a=[{value:this.fans.man,name:"男"},{value:this.fans.woman,name:"女"},{value:this.fans.other,name:"其他"}]:"discount"==e&&(a=[{value:this.discount.use,name:"已使用"},{value:this.discount.un_use,name:"未使用"}]);var s={tooltip:{trigger:"item",formatter:"数量：{c} ({d}%)"},calculable:!0,series:[{type:"pie",radius:"75%",center:["50%","50%"],label:{normal:{show:!0,position:"inner"}},data:a}]};this.$echarts.init(t).setOption(s)},drawChart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"经验排行榜",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"experience",s=[],i=[];"experience"==a?(this.experience.map(function(t){s.push(t.username)}),this.experience.map(function(t){i.push(t.experience)})):"score"==a&&(this.score.map(function(t){s.push(t.username)}),this.score.map(function(t){i.push(t.score)}));var n=this.$echarts.init(t),r={title:{text:e},tooltip:{trigger:"axis"},calculable:!0,xAxis:[{type:"category",data:s,axisLabel:{interval:0,rotate:45,formatter:function(t){return t.length>5?t.substring(0,5)+"...":t}}}],yAxis:[{type:"value"}],series:[{type:"bar",label:{normal:{show:!0,position:"top"}},data:i}]};n.setOption(r)}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"gather"},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("h1",{staticClass:"total"},[t._v("粉丝总数："+t._s(t.fans.total))]),t._v(" "),a("p",{staticClass:"detailed"},[t._v("男性："+t._s(t.fans.man))]),t._v(" "),a("p",{staticClass:"detailed"},[t._v("女性："+t._s(t.fans.woman))]),t._v(" "),a("p",{staticClass:"detailed"},[t._v("其他："+t._s(t.fans.other))]),t._v(" "),a("div",{ref:"fans",staticClass:"bar_report"})])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("h1",{staticClass:"total"},[t._v("优惠券总数："+t._s(t.discount.total))]),t._v(" "),a("p",{staticClass:"detailed"},[t._v("已使用："+t._s(t.discount.use))]),t._v(" "),a("p",{staticClass:"detailed"},[t._v("未使用："+t._s(t.discount.un_use))]),t._v(" "),a("div",{ref:"discount",staticClass:"bar_report"})])],1)],1)],1),t._v(" "),a("div",{staticClass:"ranking"},[a("el-card",{staticClass:"box-card"},[a("div",{ref:"experience",staticClass:"chart_report"})])],1),t._v(" "),a("div",{staticClass:"ranking"},[a("el-card",{staticClass:"box-card"},[a("div",{ref:"score",staticClass:"chart_report"})])],1)])},staticRenderFns:[]};var n=a("C7Lr")(s,i,!1,function(t){a("LTEL")},"data-v-8f81ec98",null);e.default=n.exports},LTEL:function(t,e){}});
//# sourceMappingURL=1.2e576e079e3e13f7246b.js.map