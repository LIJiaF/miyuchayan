{"version":3,"sources":["webpack:///src/page/main.vue","webpack:///./src/page/main.vue?21ae","webpack:///./src/page/main.vue"],"names":["main","name","data","fans","discount","experience","score","created","this","getData","methods","_this","$axios","post","then","res","$nextTick","drawPie","$refs","drawChart","catch","err","console","log","ele","type","arguments","length","undefined","value","man","woman","other","use","un_use","option","tooltip","trigger","formatter","calculable","series","radius","center","label","normal","show","position","$echarts","init","setOption","title","xData","yData","map","ex","push","username","echarts","text","xAxis","axisLabel","interval","rotate","substring","yAxis","page_main","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","_v","_s","total","ref","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.a892b3fc7495e4dea96b.js","sourcesContent":["<template>\n  <div class=\"main\">\n    <div class=\"gather\">\n      <el-row :gutter=\"15\">\n        <el-col :span=\"12\">\n          <el-card class=\"box-card\">\n            <h1 class=\"total\">粉丝总数：{{fans.total}}</h1>\n            <p class=\"detailed\">男性：{{fans.man}}</p>\n            <p class=\"detailed\">女性：{{fans.woman}}</p>\n            <p class=\"detailed\">其他：{{fans.other}}</p>\n            <div class=\"bar_report\" ref=\"fans\"></div>\n          </el-card>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-card class=\"box-card\">\n            <h1 class=\"total\">优惠券总数：{{discount.total}}</h1>\n            <p class=\"detailed\">已使用：{{discount.use}}</p>\n            <p class=\"detailed\">未使用：{{discount.un_use}}</p>\n            <div class=\"bar_report\" ref=\"discount\"></div>\n          </el-card>\n        </el-col>\n      </el-row>\n    </div>\n    <div class=\"ranking\">\n      <el-card class=\"box-card\">\n        <div class=\"chart_report\" ref=\"experience\"></div>\n      </el-card>\n    </div>\n    <div class=\"ranking\">\n      <el-card class=\"box-card\">\n        <div class=\"chart_report\" ref=\"score\"></div>\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"main\",\n    data () {\n      return {\n        fans: {},\n        discount: {},\n        experience: [],\n        score: []\n      }\n    },\n    created () {\n      this.getData();\n    },\n    methods: {\n      getData () {\n        this.$axios.post('/api/admin/report')\n          .then((res) => {\n            this.fans = res.data.fans;\n            this.discount = res.data.discount;\n            this.experience = res.data.experience;\n            this.score = res.data.score;\n            this.$nextTick(() => {\n              this.drawPie(this.$refs.fans, 'fans');\n              this.drawPie(this.$refs.discount, 'discount');\n              this.drawChart(this.$refs.experience, '经验排行榜');\n              this.drawChart(this.$refs.score, '积分排行榜');\n            });\n          })\n          .catch((err) => {\n            console.log(err);\n          })\n      },\n      drawPie (ele, type = 'fans') {\n        let data = [];\n        if (type == 'fans') {\n          data = [\n            {value: this.fans.man, name: '男'},\n            {value: this.fans.woman, name: '女'},\n            {value: this.fans.other, name: '其他'}\n          ]\n        } else if (type == 'discount') {\n          data = [\n            {value: this.discount.use, name: '已使用'},\n            {value: this.discount.un_use, name: '未使用'}\n          ]\n        }\n        let echarts = this.$echarts.init(ele);\n        let option = {\n          tooltip: {\n            trigger: 'item',\n            formatter: \"数量：{c} ({d}%)\"\n          },\n          calculable: true,\n          series: [\n            {\n              type: 'pie',\n              radius: '75%',\n              center: ['50%', '50%'],\n              label: {\n                normal: {\n                  show: true,\n                  position: 'inner'\n                }\n              },\n              data: data\n            }\n          ]\n        }\n        echarts.setOption(option);\n      },\n      drawChart (ele, title = '经验排行榜', type = 'experience') {\n        let xData = [], yData = [];\n        if (type == 'experience') {\n          this.experience.map((ex) => {\n            xData.push(ex.username);\n          });\n          this.experience.map((ex) => {\n            yData.push(ex.experience);\n          });\n        } else if (type == 'discount') {\n          this.score.map((ex) => {\n            xData.push(ex.username);\n          });\n          this.score.map((ex) => {\n            yData.push(ex.score);\n          });\n        }\n        let echarts = this.$echarts.init(ele);\n        let option = {\n          title: {\n            text: title,\n          },\n          tooltip: {\n            trigger: 'axis'\n          },\n          calculable: true,\n          xAxis: [\n            {\n              type: 'category',\n              data: xData,\n              axisLabel: {\n                interval: 0,\n                rotate: 45,\n                formatter: function (value) {\n                  return value.length > 5 ? value.substring(0, 5) + '...' : value;\n                }\n              }\n            }\n          ],\n          yAxis: [\n            {\n              type: 'value'\n            }\n          ],\n          series: [\n            {\n              type: 'bar',\n              label: {\n                normal: {\n                  show: true,\n                  position: 'top'\n                }\n              },\n              data: yData\n            }\n          ]\n        }\n        echarts.setOption(option);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .main {\n    padding: 12px;\n  }\n\n  .total {\n    font-size: 18px;\n    font-weight: normal;\n  }\n\n  .detailed {\n    display: inline-block;\n    font-size: 14px;\n    padding-top: 15px;\n    padding-right: 15px;\n  }\n\n  .bar_report {\n    margin: 20px auto 0;\n    width: 200px;\n    height: 200px;\n  }\n\n  .ranking {\n    margin-top: 12px;\n  }\n\n  .chart_report {\n    height: 300px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/main.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"gather\"},[_c('el-row',{attrs:{\"gutter\":15}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-card',{staticClass:\"box-card\"},[_c('h1',{staticClass:\"total\"},[_vm._v(\"粉丝总数：\"+_vm._s(_vm.fans.total))]),_vm._v(\" \"),_c('p',{staticClass:\"detailed\"},[_vm._v(\"男性：\"+_vm._s(_vm.fans.man))]),_vm._v(\" \"),_c('p',{staticClass:\"detailed\"},[_vm._v(\"女性：\"+_vm._s(_vm.fans.woman))]),_vm._v(\" \"),_c('p',{staticClass:\"detailed\"},[_vm._v(\"其他：\"+_vm._s(_vm.fans.other))]),_vm._v(\" \"),_c('div',{ref:\"fans\",staticClass:\"bar_report\"})])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-card',{staticClass:\"box-card\"},[_c('h1',{staticClass:\"total\"},[_vm._v(\"优惠券总数：\"+_vm._s(_vm.discount.total))]),_vm._v(\" \"),_c('p',{staticClass:\"detailed\"},[_vm._v(\"已使用：\"+_vm._s(_vm.discount.use))]),_vm._v(\" \"),_c('p',{staticClass:\"detailed\"},[_vm._v(\"未使用：\"+_vm._s(_vm.discount.un_use))]),_vm._v(\" \"),_c('div',{ref:\"discount\",staticClass:\"bar_report\"})])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"ranking\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{ref:\"experience\",staticClass:\"chart_report\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"ranking\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{ref:\"score\",staticClass:\"chart_report\"})])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7d4338e5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/main.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7d4338e5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./main.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./main.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./main.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7d4338e5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./main.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7d4338e5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/main.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}