webpackJsonp([4],{g2zx:function(t,e){},iTyJ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"add",data:function(){return{options:[],data:{type_id:"",discount:"",score:"",state:!1,rule:""}}},created:function(){this.getOptionsData()},methods:{getOptionsData:function(){var t=this;this.$axios.get("/api/admin/discount/type",{params:{cur_page:0}}).then(function(e){t.options=e.data}).catch(function(t){console.log(t)})},handleSave:function(){var t=this;if(this.data.type_id){var e=new FormData;e.append("type_id",this.data.type_id),e.append("discount",this.data.discount),e.append("score",this.data.score),e.append("state",this.data.state),e.append("rule",this.data.rule),this.$axios.post("/api/admin/discount",e).then(function(e){e.data.code?t.$message({message:e.data.msg,type:"error",showClose:!0}):(t.$message({message:e.data.msg,type:"success",showClose:!0}),t.$router.push("/discount"))}).catch(function(t){console.log(t)})}else this.$message({message:"优惠券类型不能为空！",type:"error",showClose:!0})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:t.data,"label-width":"82px"}},[a("el-form-item",{attrs:{label:"优惠券类型"}},[a("el-select",{attrs:{placeholder:"请选择优惠券类型"},model:{value:t.data.type_id,callback:function(e){t.$set(t.data,"type_id",e)},expression:"data.type_id"}},t._l(t.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"折扣"}},[a("el-input",{staticStyle:{width:"216px"},attrs:{label:"折扣"},model:{value:t.data.discount,callback:function(e){t.$set(t.data,"discount",e)},expression:"data.discount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"积分"}},[a("el-input-number",{attrs:{min:1,label:"积分"},model:{value:t.data.score,callback:function(e){t.$set(t.data,"score",e)},expression:"data.score"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否启用"}},[a("el-switch",{model:{value:t.data.state,callback:function(e){t.$set(t.data,"state",e)},expression:"data.state"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"使用规则"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.data.rule,callback:function(e){t.$set(t.data,"rule",e)},expression:"data.rule"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("添加")]),t._v(" "),a("router-link",{attrs:{to:"/discount"}},[a("el-button",[t._v("返回")])],1)],1)],1)],1)},staticRenderFns:[]};var n=a("VU/8")(s,o,!1,function(t){a("g2zx")},"data-v-27f49b39",null);e.default=n.exports}});
//# sourceMappingURL=4.ecdc08e32ce3c2a842b5.js.map