webpackJsonp([1],{"6UM6":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={name:"main",data:function(){return{fans:{},discount:{},experience:[],score:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.$axios.post("/api/admin/report").then(function(a){t.fans=a.data.fans,t.discount=a.data.discount,t.experience=a.data.experience,t.score=a.data.score,t.$nextTick(function(){t.drawPie(t.$refs.fans,"fans"),t.drawPie(t.$refs.discount,"discount"),t.drawChart(t.$refs.experience,"经验排行榜"),t.drawChart(t.$refs.score,"积分排行榜")})}).catch(function(t){console.log(t)})},drawPie:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fans",e=[];"fans"==a?e=[{value:this.fans.man,name:"男"},{value:this.fans.woman,name:"女"},{value:this.fans.other,name:"其他"}]:"discount"==a&&(e=[{value:this.discount.use,name:"已使用"},{value:this.discount.un_use,name:"未使用"}]);var s={tooltip:{trigger:"item",formatter:"数量：{c} ({d}%)"},calculable:!0,series:[{type:"pie",radius:"75%",center:["50%","50%"],label:{normal:{show:!0,position:"inner"}},data:e}]};this.$echarts.init(t).setOption(s)},drawChart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"经验排行榜",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"experience",s=[],i=[];"experience"==e?(this.experience.map(function(t){s.push(t.username)}),this.experience.map(function(t){i.push(t.experience)})):"discount"==e&&(this.score.map(function(t){s.push(t.username)}),this.score.map(function(t){i.push(t.score)}));var n=this.$echarts.init(t),r={title:{text:a},tooltip:{trigger:"axis"},calculable:!0,xAxis:[{type:"category",data:s,axisLabel:{interval:0,rotate:45,formatter:function(t){return t.length>5?t.substring(0,5)+"...":t}}}],yAxis:[{type:"value"}],series:[{type:"bar",label:{normal:{show:!0,position:"top"}},data:i}]};n.setOption(r)}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main"},[e("div",{staticClass:"gather"},[e("el-row",{attrs:{gutter:15}},[e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"box-card"},[e("h1",{staticClass:"total"},[t._v("粉丝总数："+t._s(t.fans.total))]),t._v(" "),e("p",{staticClass:"detailed"},[t._v("男性："+t._s(t.fans.man))]),t._v(" "),e("p",{staticClass:"detailed"},[t._v("女性："+t._s(t.fans.woman))]),t._v(" "),e("p",{staticClass:"detailed"},[t._v("其他："+t._s(t.fans.other))]),t._v(" "),e("div",{ref:"fans",staticClass:"bar_report"})])],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"box-card"},[e("h1",{staticClass:"total"},[t._v("优惠券总数："+t._s(t.discount.total))]),t._v(" "),e("p",{staticClass:"detailed"},[t._v("已使用："+t._s(t.discount.use))]),t._v(" "),e("p",{staticClass:"detailed"},[t._v("未使用："+t._s(t.discount.un_use))]),t._v(" "),e("div",{ref:"discount",staticClass:"bar_report"})])],1)],1)],1),t._v(" "),e("div",{staticClass:"ranking"},[e("el-card",{staticClass:"box-card"},[e("div",{ref:"experience",staticClass:"chart_report"})])],1),t._v(" "),e("div",{staticClass:"ranking"},[e("el-card",{staticClass:"box-card"},[e("div",{ref:"score",staticClass:"chart_report"})])],1)])},staticRenderFns:[]};var n=e("VU/8")(s,i,!1,function(t){e("YCvL")},"data-v-7d4338e5",null);a.default=n.exports},YCvL:function(t,a){}});
//# sourceMappingURL=1.dc151175e818317024e2.js.map